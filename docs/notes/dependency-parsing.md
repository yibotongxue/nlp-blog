---
head:
  - - link
    - rel: stylesheet
      href: https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css
---

# 句法分析与依存解析

这里为[cs224n](https://web.stanford.edu/class/cs224n/)第五讲的笔记，参考的中文资料为[这篇知乎文章](https://zhuanlan.zhihu.com/p/527211010)和[这篇知乎文章](https://zhuanlan.zhihu.com/p/147321515)。

## 依存分析

依存分析旨在分析句子中单词之间的依赖关系，其核心观点在于句子中的每一个单词除了根节点的单词外，都依赖于另一个单词。对于单词之间的依赖关系，我们可以用树形结构表示，在实际分析中，常常会增加一个虚拟的单词，使得句子中每一个单词都依赖于某一个单词（根节点的单词依赖于我们增加的虚拟单词）。具体的内容涉及到很多语言学的内容，我没有过多涉猎。如果要在线观察依存分析，可以访问[这个网站](https://hanlp.hankcs.com/demos/dep.html)。

## 基于转换的依存分析模型

这部分参考[这篇知乎文章](https://zhuanlan.zhihu.com/p/147321515)。

基于转换的依存分析模型，含有一个缓冲区、一个栈和一个集合，集合用来存储我们分析出的依赖关系，缓冲区和栈用来存储句子的单词。首先将句子读入缓冲区，栈中有一个虚拟单词 Root ，每次从缓冲区读取一个元素，然后分析栈顶元素与我们读取的元素的依赖关系，如果没有依赖关系，则将读取的元素加入栈中，这一转换成为 Shift ；如果读取的元素依赖于栈顶的元素，则记录依赖关系，然后不需要将读取元素加入栈（或者加入后立即弹出），这一转换称为 Right-Arc ；如果栈顶元素依赖于读取的元素，则记录依赖关系并弹出栈顶，这一转换成为 Left-Arc ，再分析新的栈顶与读取元素的关系，重复直至发生 Shift 或者 Right-Arc。

## 神经依赖解析器

上面的过程如果让计算机来执行就会面临一个问题，如何判断依赖关系？一种方法是通过机器学习，人工设计一些特征，用数据驱动方法预测下一个动作。这样的方法有一个问题是很多时间会用在特征的计算上。我们可以使用神经依赖解析器。

我们将每一个单词表示为一个 $d$ 维向量，将词性标签(POS)和依赖标签也表示为d维向量，训练的时候选择缓冲区若干个单词和栈顶部的若干个单词的词向量及其词性标签向量作为输入特征，经过神经网络（有一个隐藏层组成），然后与标注的依赖标签求损失；推理的时候则直接从输入特征得到依赖标签。

## 基于图的神经依赖解析器

上面我们讨论的是基于转换的依存分析模型，事实上还有其他的分析模型，比如基于图，课程同样提到了基于图的神经依赖分析，可以参考[论文](https://arxiv.org/abs/1611.01734)，可以实现比基于转换的依存分析模型更好的效果，但效率更慢一些。